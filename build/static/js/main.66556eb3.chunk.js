(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{71:function(e,n,c){},75:function(e,n,c){},76:function(e,n,c){},77:function(e,n,c){},82:function(e,n,c){},83:function(e,n,c){},84:function(e,n,c){},85:function(e,n,c){},86:function(e,n,c){"use strict";c.r(n);var a=c(3),s=c(2),t=c.n(s),i=c(21),r=c.n(i),l=(c(71),c(12)),o=(c(75),c(31)),d=(c(76),c(37)),j=c.n(d),h=c(47),b=c.n(h),u=c(23),m=Object(u.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),O=m.actions.setChannelInfo,x=function(e){return e.app.channelId},p=function(e){return e.app.channelName},f=m.reducer;c(77);var v=function(e){var n=e.id,c=e.channelName,s=Object(l.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(O({channelId:n,channelName:c}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),c]})})},_=c(48),g=c.n(_),N=c(49),S=c.n(N),I=c(50),C=c.n(I),w=c(100),y=c(51),k=c.n(y),z=c(52),B=c.n(z),D=c(53),E=c.n(D),F=Object(u.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),W=F.actions,A=W.login,M=W.logout,U=function(e){return e.user.user},V=F.reducer,K=c(25),L=K.a.initializeApp({apiKey:"AIzaSyDwKtK7FtfXxFBixPolbUdVm_nzxq_NaQw",authDomain:"discord-clone-9995b.firebaseapp.com",databaseURL:"https://discord-clone-9995b.firebaseio.com",projectId:"discord-clone-9995b",storageBucket:"discord-clone-9995b.appspot.com",messagingSenderId:"1051642201581",appId:"1:1051642201581:web:95a9ea66318e17d83113e4",measurementId:"G-WSWFM46DQV"}).firestore(),P=K.a.auth(),R=new K.a.auth.GoogleAuthProvider,T=L;var G=function(){var e=Object(l.c)(U),n=Object(s.useState)([]),c=Object(o.a)(n,2),t=c[0],i=c[1];return Object(s.useEffect)((function(){T.collection("channels").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__top",children:[Object(a.jsx)("h3",{children:"Code Room"}),Object(a.jsx)(j.a,{})]}),Object(a.jsxs)("div",{className:"sidebar__channels",children:[Object(a.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsx)(j.a,{}),Object(a.jsx)("h4",{children:"Text Channels"})]}),Object(a.jsx)(b.a,{onClick:function(){var e=prompt("Enter Channel Name: ");e&&T.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var n=e.id,c=e.channel;return Object(a.jsx)(v,{id:n,channelName:c.channelName},n)}))})]}),Object(a.jsxs)("div",{className:"sidebar__voice",children:[Object(a.jsx)(g.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice Connected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(a.jsx)(S.a,{}),Object(a.jsx)(C.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)(w.a,{onClick:function(){return P.signOut()},src:e.photo}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsx)("h3",{children:e.displayName}),Object(a.jsxs)("p",{children:["#",e.uid]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(a.jsx)(k.a,{}),Object(a.jsx)(B.a,{}),Object(a.jsx)(E.a,{})]})]})]})},J=(c(82),c(83),c(54)),Q=c.n(J),q=c(55),H=c.n(q),X=c(56),$=c.n(X),Y=c(57),Z=c.n(Y),ee=c(58),ne=c.n(ee),ce=c(59),ae=c.n(ce);var se=function(e){var n=e.channelName;return Object(a.jsxs)("div",{className:"chatheader",children:[Object(a.jsx)("div",{className:"chatheader__left",children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"chatheader__hash",children:"#"}),n]})}),Object(a.jsxs)("div",{className:"chatheader__right",children:[Object(a.jsx)(Q.a,{}),Object(a.jsx)(H.a,{}),Object(a.jsx)($.a,{}),Object(a.jsxs)("div",{className:"chatheader__search",children:[Object(a.jsx)("input",{placeholder:"Search"}),Object(a.jsx)(Z.a,{})]}),Object(a.jsx)(ne.a,{}),Object(a.jsx)(ae.a,{})]})]})},te=c(60),ie=c.n(te),re=c(61),le=c.n(re),oe=c(62),de=c.n(oe),je=c(63),he=c.n(je);c(84);var be=function(e){var n=e.timestamp,c=e.user,s=e.message;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(w.a,{src:c.photo}),Object(a.jsxs)("div",{className:"message__info",children:[Object(a.jsxs)("h4",{children:[c.displayName,Object(a.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(a.jsx)("p",{children:s})]})]})};var ue=function(){var e=Object(l.c)(x),n=Object(l.c)(U),c=Object(l.c)(p),t=Object(s.useState)(""),i=Object(o.a)(t,2),r=i[0],d=i[1],j=Object(s.useState)([]),h=Object(o.a)(j,2),b=h[0],u=h[1];return Object(s.useEffect)((function(){e&&T.collection("channels").doc(e).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(se,{channelName:c}),Object(a.jsx)("div",{className:"chat__messages",children:b.map((function(e){return Object(a.jsx)(be,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(a.jsxs)("div",{className:"chat__input",children:[Object(a.jsx)(ie.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:r,disabled:!e,onChange:function(e){return d(e.target.value)},placeholder:"Message #".concat(c)}),Object(a.jsx)("button",{className:"chat__inputButton",onClick:function(c){c.preventDefault(),T.collection("channels").doc(e).collection("messages").add({message:r,user:n,timestamp:K.a.firestore.FieldValue.serverTimestamp()}),d("")},type:"submit",children:"Send Message"})]}),Object(a.jsxs)("div",{className:"chat__inputIcons",children:[Object(a.jsx)(le.a,{fontSize:"large"}),Object(a.jsx)(de.a,{fontSize:"large"}),Object(a.jsx)(he.a,{fontSize:"large"})]})]})]})},me=(c(85),c(99));var Oe=function(){return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"login__logo",children:Object(a.jsx)("img",{src:"https://www.freepnglogos.com/uploads/discord-logo-png/discord-branding-2.png"})}),Object(a.jsx)(me.a,{onClick:function(){P.signInWithPopup(R).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var xe=function(){var e=Object(l.b)(),n=Object(l.c)(U);return Object(s.useEffect)((function(){P.onAuthStateChanged((function(n){e(n?A({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):M())}))}),[e]),Object(a.jsx)("div",{className:"app",children:n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G,{}),Object(a.jsx)(ue,{})]}):Object(a.jsx)(Oe,{})})},pe=Object(u.a)({reducer:{user:V,app:f}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(l.a,{store:pe,children:Object(a.jsx)(xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.66556eb3.chunk.js.map